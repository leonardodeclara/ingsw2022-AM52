<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (17) on Fri Jul 01 15:54:49 CEST 2022 -->
<title>Server</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-07-01">
<meta name="description" content="declaration: package: it.polimi.ingsw.controller, class: Server">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.controller</a></div>
<h1 title="Class Server" class="title">Class Server</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.controller.Server</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Server</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Server class is the main class on the server side: it manages the connection's setup phase up to the game's start;
 it also handles the registration of clients.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private int</code></div>
<div class="col-second even-row-color"><code><a href="#clientHandlerCounter" class="member-name-link">clientHandlerCounter</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#gameHandlers" class="member-name-link">gameHandlers</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#idToNicknameMap" class="member-name-link">idToNicknameMap</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#lobbies" class="member-name-link">lobbies</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#nameToHandlerMap" class="member-name-link">nameToHandlerMap</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#playerToGameMap" class="member-name-link">playerToGameMap</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="ServerSocketConnection.html" title="class in it.polimi.ingsw.controller">ServerSocketConnection</a></code></div>
<div class="col-second even-row-color"><code><a href="#serverSocket" class="member-name-link">serverSocket</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Server</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createMatch(it.polimi.ingsw.controller.Lobby)" class="member-name-link">createMatch</a><wbr>(<a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a>&nbsp;lobby)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It creates a new match accordingly to the lobby's parameters: a GameHandler is created and the lobby's
 clients are added to it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIdToNicknameMap()" class="member-name-link">getIdToNicknameMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method getIdToNicknameMap returns the HashMap containing the associations between a ClientHandler identification number
 and the name of the player associated with that ClientHandler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMatchingLobby(int,boolean)" class="member-name-link">getMatchingLobby</a><wbr>(int&nbsp;numberPlayers,
 boolean&nbsp;expertGame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It selects the active lobby that matches the parameters given as input.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleGameParameters(it.polimi.ingsw.messages.ClientMessages.GameParametersMessage,it.polimi.ingsw.controller.ClientHandler)" class="member-name-link">handleGameParameters</a><wbr>(<a href="../messages/ClientMessages/GameParametersMessage.html" title="class in it.polimi.ingsw.messages.ClientMessages">GameParametersMessage</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It handles a client's choice for number of players and game mode by adding him to a lobby accordingly
 to his game parameters' selection.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleLogin(it.polimi.ingsw.messages.ClientMessages.LoginRequestMessage,it.polimi.ingsw.controller.ClientHandler)" class="member-name-link">handleLogin</a><wbr>(<a href="../messages/ClientMessages/LoginRequestMessage.html" title="class in it.polimi.ingsw.messages.ClientMessages">LoginRequestMessage</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It handles a client's name choice: if the choice is valid, the server registers it and sends a new message to client,
 asking for game parameters, otherwise it sends a error message.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleMessage(it.polimi.ingsw.messages.Message,it.polimi.ingsw.controller.ClientHandler)" class="member-name-link">handleMessage</a><wbr>(<a href="../messages/Message.html" title="interface in it.polimi.ingsw.messages">Message</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It handles the first messages sent by a player in order to register its name and its choice
 for the number of players and game mode.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isNicknameAvailable(java.lang.String)" class="member-name-link">isNicknameAvailable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It verifies whether a nickname's choice is valid or not by checking if there's already a client with that nickname.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#joinLobby(int,int,boolean)" class="member-name-link">joinLobby</a><wbr>(int&nbsp;playerID,
 int&nbsp;numberPlayers,
 boolean&nbsp;expertGame)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It adds a client to a game's lobby: if there's already a lobby matching the chosen game parameters
 it allows the client to join it, otherwise it creates a new one and adds the client to it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerClientConnection(java.lang.String,it.polimi.ingsw.controller.ClientHandler)" class="member-name-link">registerClientConnection</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;clientConnection)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It adds a client's connection by adding the association between the client's nickname and its ClientHandler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerPlayer(java.lang.String,int)" class="member-name-link">registerPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;clientHandlerID)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It registers a player by adding the association between the ClientHandler's ID and the client's nickname.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeClientConnection(it.polimi.ingsw.controller.ClientHandler)" class="member-name-link">removeClientConnection</a><wbr>(<a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;clientHandler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It removes the selected ClientHandler from the server's registries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeClientFromLobby(java.lang.String)" class="member-name-link">removeClientFromLobby</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It removes a player from a waiting lobby by deleting his name from the players' list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeGameHandler(it.polimi.ingsw.controller.GameHandler)" class="member-name-link">removeGameHandler</a><wbr>(<a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&nbsp;gameHandler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It removes the selected GameHandler instance from the list of gameHandlers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#selectLobbyPlayers(java.util.ArrayList)" class="member-name-link">selectLobbyPlayers</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;lobbyPlayers)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It selects the Nickname-ClientHandler association of the clients that belong to a lobby.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setServerSocket(it.polimi.ingsw.controller.ServerSocketConnection)" class="member-name-link">setServerSocket</a><wbr>(<a href="ServerSocketConnection.html" title="class in it.polimi.ingsw.controller">ServerSocketConnection</a>&nbsp;serverSocket)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It sets the server's serverSocket attribute to the ServerSocketConnection instance given as attribute.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="serverSocket">
<h3>serverSocket</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="ServerSocketConnection.html" title="class in it.polimi.ingsw.controller">ServerSocketConnection</a></span>&nbsp;<span class="element-name">serverSocket</span></div>
</section>
</li>
<li>
<section class="detail" id="idToNicknameMap">
<h3>idToNicknameMap</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">idToNicknameMap</span></div>
</section>
</li>
<li>
<section class="detail" id="nameToHandlerMap">
<h3>nameToHandlerMap</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&gt;</span>&nbsp;<span class="element-name">nameToHandlerMap</span></div>
</section>
</li>
<li>
<section class="detail" id="lobbies">
<h3>lobbies</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a>&gt;</span>&nbsp;<span class="element-name">lobbies</span></div>
</section>
</li>
<li>
<section class="detail" id="playerToGameMap">
<h3>playerToGameMap</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&gt;</span>&nbsp;<span class="element-name">playerToGameMap</span></div>
</section>
</li>
<li>
<section class="detail" id="gameHandlers">
<h3>gameHandlers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&gt;</span>&nbsp;<span class="element-name">gameHandlers</span></div>
</section>
</li>
<li>
<section class="detail" id="clientHandlerCounter">
<h3>clientHandlerCounter</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">clientHandlerCounter</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Server</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Server</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="handleMessage(it.polimi.ingsw.messages.Message,it.polimi.ingsw.controller.ClientHandler)">
<h3>handleMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleMessage</span><wbr><span class="parameters">(<a href="../messages/Message.html" title="interface in it.polimi.ingsw.messages">Message</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</span></div>
<div class="block">It handles the first messages sent by a player in order to register its name and its choice
 for the number of players and game mode.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - : message sent by the client.</dd>
<dd><code>sender</code> - : ClientHandler instance of the client sending data.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleLogin(it.polimi.ingsw.messages.ClientMessages.LoginRequestMessage,it.polimi.ingsw.controller.ClientHandler)">
<h3>handleLogin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleLogin</span><wbr><span class="parameters">(<a href="../messages/ClientMessages/LoginRequestMessage.html" title="class in it.polimi.ingsw.messages.ClientMessages">LoginRequestMessage</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</span></div>
<div class="block">It handles a client's name choice: if the choice is valid, the server registers it and sends a new message to client,
 asking for game parameters, otherwise it sends a error message.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - : LoginRequestMessage instance sent by the client.</dd>
<dd><code>sender</code> - : ClientHandler instance of the client sending data.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleGameParameters(it.polimi.ingsw.messages.ClientMessages.GameParametersMessage,it.polimi.ingsw.controller.ClientHandler)">
<h3>handleGameParameters</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleGameParameters</span><wbr><span class="parameters">(<a href="../messages/ClientMessages/GameParametersMessage.html" title="class in it.polimi.ingsw.messages.ClientMessages">GameParametersMessage</a>&nbsp;message,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;sender)</span></div>
<div class="block">It handles a client's choice for number of players and game mode by adding him to a lobby accordingly
 to his game parameters' selection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - : GameParametersMessage instance sent by the client.</dd>
<dd><code>sender</code> - : ClientHandler instance of the client sending data.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="joinLobby(int,int,boolean)">
<h3>joinLobby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a></span>&nbsp;<span class="element-name">joinLobby</span><wbr><span class="parameters">(int&nbsp;playerID,
 int&nbsp;numberPlayers,
 boolean&nbsp;expertGame)</span></div>
<div class="block">It adds a client to a game's lobby: if there's already a lobby matching the chosen game parameters
 it allows the client to join it, otherwise it creates a new one and adds the client to it.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>playerID</code> - : identification for the active client's ClientHandler.</dd>
<dd><code>numberPlayers</code> - : client's choice for the game's number of players.</dd>
<dd><code>expertGame</code> - : client's choice for the game mode.</dd>
<dt>Returns:</dt>
<dd>the Lobby instance to which the client has been added.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createMatch(it.polimi.ingsw.controller.Lobby)">
<h3>createMatch</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createMatch</span><wbr><span class="parameters">(<a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a>&nbsp;lobby)</span></div>
<div class="block">It creates a new match accordingly to the lobby's parameters: a GameHandler is created and the lobby's
 clients are added to it. The now-empty lobby is also removed from the active lobbies list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lobby</code> - : Lobby instance to which the clients belong to.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="selectLobbyPlayers(java.util.ArrayList)">
<h3>selectLobbyPlayers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&gt;</span>&nbsp;<span class="element-name">selectLobbyPlayers</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;lobbyPlayers)</span></div>
<div class="block">It selects the Nickname-ClientHandler association of the clients that belong to a lobby.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lobbyPlayers</code> - : names of the clients that belong to a lobby.</dd>
<dt>Returns:</dt>
<dd>a hashmap with the association Nickname-ClientHandler for the lobby's players.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMatchingLobby(int,boolean)">
<h3>getMatchingLobby</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Lobby.html" title="class in it.polimi.ingsw.controller">Lobby</a></span>&nbsp;<span class="element-name">getMatchingLobby</span><wbr><span class="parameters">(int&nbsp;numberPlayers,
 boolean&nbsp;expertGame)</span></div>
<div class="block">It selects the active lobby that matches the parameters given as input.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>numberPlayers</code> - : chosen number of players.</dd>
<dd><code>expertGame</code> - : chosen game mode.</dd>
<dt>Returns:</dt>
<dd>a Lobby instance matching the parameters.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNicknameAvailable(java.lang.String)">
<h3>isNicknameAvailable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isNicknameAvailable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">It verifies whether a nickname's choice is valid or not by checking if there's already a client with that nickname.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - : the client's chosen name.</dd>
<dt>Returns:</dt>
<dd>true if the choice is legal, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerPlayer(java.lang.String,int)">
<h3>registerPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;clientHandlerID)</span></div>
<div class="block">It registers a player by adding the association between the ClientHandler's ID and the client's nickname.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - : name chosen by the client.</dd>
<dd><code>clientHandlerID</code> - : ClientHandler's identification.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerClientConnection(java.lang.String,it.polimi.ingsw.controller.ClientHandler)">
<h3>registerClientConnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerClientConnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;clientConnection)</span></div>
<div class="block">It adds a client's connection by adding the association between the client's nickname and its ClientHandler.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - : name chosen by the client.</dd>
<dd><code>clientConnection</code> - : client's ClientHandler.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIdToNicknameMap()">
<h3>getIdToNicknameMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getIdToNicknameMap</span>()</div>
<div class="block">Method getIdToNicknameMap returns the HashMap containing the associations between a ClientHandler identification number
 and the name of the player associated with that ClientHandler.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>HashMap with the association between ClientHandler ID and player name.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeClientConnection(it.polimi.ingsw.controller.ClientHandler)">
<h3>removeClientConnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeClientConnection</span><wbr><span class="parameters">(<a href="ClientHandler.html" title="class in it.polimi.ingsw.controller">ClientHandler</a>&nbsp;clientHandler)</span></div>
<div class="block">It removes the selected ClientHandler from the server's registries. If the disconnecting player is in an active
 match its ClientHandler reference is removed from the HashMap with the associations between nicknames and GameHandlers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clientHandler</code> - : ClientHandler instance that is being removed from the server's maps. Otherwise, he is removed from a waiting lobby.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeClientFromLobby(java.lang.String)">
<h3>removeClientFromLobby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeClientFromLobby</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">It removes a player from a waiting lobby by deleting his name from the players' list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - : name of the player being removed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeGameHandler(it.polimi.ingsw.controller.GameHandler)">
<h3>removeGameHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeGameHandler</span><wbr><span class="parameters">(<a href="GameHandler.html" title="class in it.polimi.ingsw.controller">GameHandler</a>&nbsp;gameHandler)</span></div>
<div class="block">It removes the selected GameHandler instance from the list of gameHandlers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>gameHandler</code> - : GameHandler instance being removed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setServerSocket(it.polimi.ingsw.controller.ServerSocketConnection)">
<h3>setServerSocket</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setServerSocket</span><wbr><span class="parameters">(<a href="ServerSocketConnection.html" title="class in it.polimi.ingsw.controller">ServerSocketConnection</a>&nbsp;serverSocket)</span></div>
<div class="block">It sets the server's serverSocket attribute to the ServerSocketConnection instance given as attribute.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverSocket</code> - : ServerSocketConnection instance handling the server's communication with clients.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">main</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
